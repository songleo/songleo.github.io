---
layout: post
title: cidr和子网划分
date: 2023-12-15 00:12:05
---

假设我们有一个cidr表示法的地址范围：10.100.0.0/16。这个表示法涵盖了一个ipv4地址范围，其中前16位（10.100）用于标识网络，而后16位可以用于表示不同的主机。cidr通常用于指定较大的ip地址范围，允许划分成多个子网或容纳大量的主机。

如果我们想要将这个地址范围分成16个子网，应该如何进行划分呢？首先，16可以表示为2的4次方，因此我们需要一个子网掩码为16 + 4 = 20，即/20。这样，我们将有12位用于表示主机。因此，每个子网将包含2的12次方，即4096个地址。第一个子网的地址范围是从10.100.0.0到10.100.15.255。请注意，10.100.0.0和10.100.15.255分别是网络地址和广播地址，它们不能用于分配给主机。总共有4096个地址，但在考虑网络地址和广播地址后，每个子网可用的地址数量为4094个。然后，依次类推，第二个子网将是10.100.16.0到10.100.31.255，以此类推。最后一个子网将是10.100.240.0到10.100.255.255。

如果我们希望将它分成256个子网，首先，256可以表示为2的8次方，因此我们需要一个子网掩码为16 + 8 = 24，即/24。这将为我们提供8位用于表示主机。因此，每个子网将包含2的8次方，即256个地址。第一个子网的地址范围将是从10.100.0.0到10.100.0.255。与之前一样，10.100.0.0和10.100.0.255分别是网络地址和广播地址，不可用于主机。总共有256个地址，考虑到网络地址和广播地址，每个子网可用的地址数量为254个。然后，依次类推，第二个子网将是10.100.1.0到10.100.1.255，以此类推。最后一个子网将是10.100.255.0到10.100.255.255。
